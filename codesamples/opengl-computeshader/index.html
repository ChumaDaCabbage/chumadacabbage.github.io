<!--__________________________________________________________________________________________________________-->
<!--___________________________________OPENGL_COMPSHADER CODE SAMPLES PAGE____________________________________-->
<!--__________________________________________________________________________________________________________-->
<!DOCTYPE html>
<html> 
  <!-- ---------------------------------------------------------------------------- -->
  <!-- ------------------------------------Head------------------------------------ -->
  <!-- ---------------------------------------------------------------------------- -->
  <head>
    <title>Evan Gray | Code Samples</title>

    <!-- Link to the external stylesheets -->
    <link rel="stylesheet" type="text/css" href="/codesamples/codeSampleStyles.css">
    <link rel="stylesheet" type="text/css" href="/headerStyles.css">
    <link rel="stylesheet" type="text/css" href="/footerStyles.css">
    <link rel="stylesheet" type="text/css" href="/fonts.css">

    <!-- Set icon -->
    <link rel="icon" type="image/x-icon" href="/media/favicon.ico">

    <!-- Connect javascript functions -->
    <script type="text/javascript" src="/functions.js"></script>

    <!-- Link to the google code-prettify library styles -->
    <script type="text/javascript" src="/googlePrettify/prettify.js"></script>

    <!-- Load footer into this file-->
    <!-- Also Load code snippets on page load and run prettify on them -->
    <script> 
      window.onload = function() 
      {
        loadCode('computeshader.cpp');
        loadHTML('/footer.html');
      }; 
    </script>
  </head>

  <!-- ---------------------------------------------------------------------------- -->
  <!-- ------------------------------------Body------------------------------------ -->
  <!-- ---------------------------------------------------------------------------- -->

  <body>
    <!-- ~~~~~~~~~~~Header~~~~~~~~~~~ -->
    <div class = "header" style="background-color: black;">
      <div class = "title">
        Evan Gray       
      </div>
      <div class = "buttons">
        <button class= " button" onclick = "window.location.href = '/'">Projects</button>
        <button class= " button" onclick = "window.location.href = '/resume/'">Resume</button>
        <button class= " button" onclick = "location.reload()">Code Samples</button>
        <button class= " button" onclick = "window.location.href = '/about/'">About</button>
        <button class= " button" onclick = "scrollToFooter()">Contact</button>
      </div>
      <hr class="header-line">
    </div>

    <!-- ~~~~~~~~~~~Tabs~~~~~~~~~~ -->
    <div class = "tabrow">
      <button class="tabinactive" onclick = "window.location.href = '/codesamples/overlap'">
        <div class = "codeTitle">
          <h1>Overlapping Rectangles</h1>
        </div>
      </button>
      <button class = "tab" onclick = "location.reload()">
        <div class = "codeTitle">
          <h1>OpenGL Compute Shaders</h1>
        </div>
      </button>
      <button class = "tabinactive" onclick = "window.location.href = '/codesamples/bst-map'">
        <div class = "codeTitle">
          <h1>Binary Search Tree Map</h1>
        </div>
      </button>
    </div>
    <hr style="width: 96.9%; margin-top: 0; margin-bottom: -0.2vh; margin-left: 1.5vw;">

    <!-- ~~~~~~~~~~~Code Sample~~~~~~~~~~~ -->
    <div class = "codeSnippet" id="codeSnippet">
      <div class = "codeLoadingZone" id="computeshader.cpp">
        <!-- Code snippet will get autoloaded here :D -->
      </div>
      <div class = "codeDescription">
<h2>Overview:</h2>
<p>This code provides an abstraction layer for OpenGL compute shaders. It allows the creation, management, and execution of compute shaders through a series of functions. This implementation manages resources like buffers, textures, and uniforms, and provides efficient dispatching of compute shader workloads in a rendering pipeline. The core features include the ability to load shader code from files, compile and link shaders, dispatch compute tasks, and handle GPU memory and data binding efficiently.</p>


<h2>Details:</h2>
<p>Input Processing:</p>
<div class="inset">
<p>The constructor of the ComputeShader class reads the shader source code from a file and compiles it into a program. The ParseShader function is responsible for reading the file and returning the shader source code as a string.</p>
<p>The shader code is then passed to CreateShader, which compiles the shader and links it into a program.</p>
</div>
<p>Shader Dispatching:</p>
<div class="inset">
<p>The Dispatch function sends the compute shader to the GPU for execution, specifying the workgroup size and whether a memory barrier is needed. A memory barrier ensures that memory operations are completed in the correct order.</p>
<p>The Bind and Unbind functions manage the shader program during the execution, ensuring it is used when needed and releasing it afterward.</p>
</div>
<p>Buffer and Texture Management:</p>
<div class="inset">
<p>The BindTexture function binds textures to the compute shader, enabling the shader to read from it.</p>
<p>The GenBuffer function creates a new buffer on the GPU, and BindBuffer is used to upload data to that buffer and bind it for use in the shader.</p>
<p>The ReadBuffer function allows reading the results of a compute shader from a buffer after execution.</p>
<p>The DeleteBuffer function ensures buffers are cleaned up when no longer needed.</p>
</div>
<p>Uniform Management:</p>
<div class="inset">
<p>Uniforms are used to pass values to the shader. The SetUniform functions handle setting various types of uniforms (e.g., float, vector, array) by checking if the uniform data needs updating and then sending it to the GPU.</p>
<p>The GetUniformLocation function retrieves the location of a uniform in the shader program, caching it for efficiency.</p>
<p>Additional helper functions like checkUniformMap ensure that uniforms are only updated when their values change, which prevents unnecessary GPU communication and improves performance.</p>
</div>
<p>Error Handling and Debugging:</p>
<div class="inset">
<p>The code includes error handling, especially during shader compilation and linking. If errors occur, detailed messages are logged.</p>
<p>In debug mode, the shader compilation and program linking processes are carefully checked, and failure logs are produced with specific error messages.</p>
</div>
       </div>
    </div>

    <!-- ~~~~~~~~~~~Footer~~~~~~~~~~~~ -->
    <div class = "footerLoadingZone" id="/footer.html">
      <!--Footer will get autoloaded here :D -->
    </div>
  </body>
</html>
